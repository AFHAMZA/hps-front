<app-navbar />
<section class="bg-primary position-relative">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-lg-8 col-md-8">
        <h2 class="ipt-title text-light">All WhatsApp Groups</h2>
        <span class="ipn-subtitle">List of your WhatsApp groups</span>
      </div>
    </div>
  </div>
  <div class="ht-30"></div>
</section>

<div *ngIf="loadingGroups" class="loading-overlay">
  <div class="loading-spinner">loading groups...</div>
</div>


<section class="gray-simple">
  <div class="container">
    
    <div class="row justify-content-center g-4">
      <div *ngIf="errorMessage" class="alert alert-danger text-center">
        {{ errorMessage }}
      </div>
      <div *ngIf="successMessage" class="alert alert-success text-center">
        {{ successMessage }}
      </div>
      <div
        *ngFor="let group of groupData"
        class="col-xl-3 col-lg-4 col-md-6 col-sm-12"
      >
        <div class="clients-grid card rounded-3 shadow">
          <div
            class="fr-grid-info d-flex align-items-center justify-content-between px-2 py-3"
          >
          
            <div class="fr-grid-sder">
              <ul class="p-0">
                <li class="mb-2">
                  <strong>Name:</strong
                  ><span class="fw-medium text-primary ms-2">{{
                    group.name
                  }}</span>
                </li>
                <li>
                  <strong>Participants:</strong
                  ><span class="fw-medium text-primary ms-2">{{
                    group.participantCount
                  }}</span>
                </li>
              </ul>
            </div>
            <div class="d-flex">
              <button
                class="btn btn-sm btn-primary"
                *ngIf="loadingGroupId !== group.id"
                (click)="saveParticipants(group.id)"
              >
                Save Participants
              </button>
              <div
                *ngIf="loadingGroupId === group.id"
                class="spinner-border text-primary spinner-border-sm"
                role="status"
              >
                <span class="visually-hidden">Loading...</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<app-footer-top [bg]="'theme-bg'" />
<app-footer />
